import{j as e}from"./radix-ui-C6G5B-jo.js";import{f as N,r as h,L as c}from"./react-vendor-Dt2nJDur.js";import{C as g,a as f,b as v,c as w,d as y,L as l,I as i,B as b,e as C,s as F}from"./index-B2tB135X.js";import{G as P,e as L,a as q,K as k,_ as p,t as o}from"./ui-vendor-BVP4ZoRz.js";function G({onRegister:n}){const u=N(),[d,m]=h.useState(!1),[s,r]=h.useState({fullName:"",email:"",phone:"",password:"",confirmPassword:""}),j=async a=>{a.preventDefault(),m(!0);try{if(s.password!==s.confirmPassword){o.error("كلمة المرور وتأكيد كلمة المرور غير متطابقتين");return}if(s.password.length<6){o.error("كلمة المرور يجب أن تكون 6 أحرف على الأقل");return}const{data:t,error:x}=await F.auth.signUp({email:s.email,password:s.password,options:{data:{full_name:s.fullName,phone:s.phone}}});if(x)throw x;n&&t.user?.email&&n(t.user.email),o.success("تم إنشاء الحساب بنجاح! الرجاء التحقق من بريدك الإلكتروني."),u("/verify-email",{state:{email:s.email}})}catch(t){console.error("Registration error:",t),o.error(t.message||"فشل في إنشاء الحساب")}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black to-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs(c,{to:"/",className:"inline-flex items-center gap-2 mb-6",children:[e.jsx("div",{className:"bg-orange-500 p-3 rounded-lg",children:e.jsx(P,{className:"h-8 w-8 text-black"})}),e.jsx("span",{className:"text-white text-2xl",children:"منصة التعليم"})]})}),e.jsxs(g,{className:"border-orange-500/20",children:[e.jsxs(f,{className:"space-y-1",children:[e.jsx(v,{className:"text-2xl text-center",children:"إنشاء حساب جديد"}),e.jsx(w,{className:"text-center",children:"أدخل بياناتك لإنشاء حساب جديد"})]}),e.jsx(y,{children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"fullName",children:"الاسم الكامل"}),e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(i,{id:"fullName",placeholder:"أدخل اسمك الكامل",value:s.fullName,onChange:a=>r({...s,fullName:a.target.value}),className:"pr-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"البريد الإلكتروني"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(i,{id:"email",type:"email",placeholder:"example@email.com",value:s.email,onChange:a=>r({...s,email:a.target.value}),className:"pr-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"phone",children:"رقم الهاتف"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(i,{id:"phone",type:"tel",placeholder:"05xxxxxxxx",value:s.phone,onChange:a=>r({...s,phone:a.target.value}),className:"pr-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"password",children:"كلمة المرور"}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(i,{id:"password",type:"password",placeholder:"••••••••",value:s.password,onChange:a=>r({...s,password:a.target.value}),className:"pr-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"confirmPassword",children:"تأكيد كلمة المرور"}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(i,{id:"confirmPassword",type:"password",placeholder:"••••••••",value:s.confirmPassword,onChange:a=>r({...s,confirmPassword:a.target.value}),className:"pr-10",required:!0})]})]}),e.jsx(b,{type:"submit",disabled:d,children:d?"جاري إنشاء الحساب...":"إنشاء الحساب"})]})}),e.jsxs(C,{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"text-center text-sm text-gray-600",children:["لديك حساب بالفعل؟"," ",e.jsx(c,{to:"/login",className:"text-orange-500 hover:text-orange-600 transition-colors",children:"تسجيل الدخول"})]}),e.jsx("div",{className:"text-center",children:e.jsx(c,{to:"/",className:"text-sm text-gray-600 hover:text-orange-500 transition-colors",children:"العودة للصفحة الرئيسية"})})]})]})]})})}export{G as default};
