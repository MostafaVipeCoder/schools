import{j as e}from"./radix-ui-C6G5B-jo.js";import{f as u,r as m,L as t}from"./react-vendor-Dt2nJDur.js";import{C as j,a as N,b as f,c as v,d as b,L as x,I as h,B as w,e as y,s as C}from"./index-C4EMdDaL.js";import{G as L,a as k,_ as D,t as l}from"./ui-vendor-BVP4ZoRz.js";function B({onLogin:i}){const p=u(),[o,c]=m.useState(!1),[s,n]=m.useState({email:"",password:""}),g=async a=>{a.preventDefault(),c(!0);try{if(!s.email||!s.password){l.error("الرجاء إدخال البريد الإلكتروني وكلمة المرور");return}const{data:r,error:d}=await C.auth.signInWithPassword({email:s.email,password:s.password});if(d)throw d;i&&r.user?.email&&i(r.user.email),l.success("تم تسجيل الدخول بنجاح!"),p("/dashboard")}catch(r){console.error("Login error:",r),l.error(r.message||"فشل في تسجيل الدخول. تأكد من صحة البيانات.")}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black to-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs(t,{to:"/",className:"inline-flex items-center gap-2 mb-6",children:[e.jsx("div",{className:"bg-orange-500 p-3 rounded-lg",children:e.jsx(L,{className:"h-8 w-8 text-black"})}),e.jsx("span",{className:"text-white text-2xl",children:"منصة التعليم"})]})}),e.jsxs(j,{className:"border-orange-500/20",children:[e.jsxs(N,{className:"space-y-1",children:[e.jsx(f,{className:"text-2xl text-center",children:"تسجيل الدخول"}),e.jsx(v,{className:"text-center",children:"أدخل بريدك الإلكتروني وكلمة المرور للدخول إلى حسابك"})]}),e.jsx(b,{children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"email",children:"البريد الإلكتروني"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(h,{id:"email",type:"email",placeholder:"example@email.com",value:s.email,onChange:a=>n({...s,email:a.target.value}),className:"pr-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"password",children:"كلمة المرور"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(h,{id:"password",type:"password",placeholder:"••••••••",value:s.password,onChange:a=>n({...s,password:a.target.value}),className:"pr-10",required:!0})]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(t,{to:"/forget-password",className:"text-sm text-orange-500 hover:text-orange-600 transition-colors",children:"نسيت كلمة المرور؟"})}),e.jsx(w,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600 text-black",disabled:o,children:o?"جاري الدخول...":"تسجيل الدخول"})]})}),e.jsxs(y,{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"text-center text-sm text-gray-600",children:["ليس لديك حساب؟"," ",e.jsx(t,{to:"/register",className:"text-orange-500 hover:text-orange-600 transition-colors",children:"سجل الآن"})]}),e.jsx("div",{className:"text-center",children:e.jsx(t,{to:"/",className:"text-sm text-gray-600 hover:text-orange-500 transition-colors",children:"العودة للصفحة الرئيسية"})})]})]})]})})}export{B as default};
